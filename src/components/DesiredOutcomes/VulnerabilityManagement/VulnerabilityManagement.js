import { Box, Button, Heading, Select, Stack, Table, Tbody, Td, Thead, Tr } from "@chakra-ui/react";
import { Form, Input, Typography } from "antd";
import { useState } from "react";

export default function VulnerabilityManagement() {

    const [productsList, setProductsList] = useState(['Amazon SDK', 'Amazon Kindle', 'Kinesis']);
    const [selectedVendor, setSelectedVendor] = useState(null);
    const [selectedProduct, setSelectedProduct] = useState(null);

    return (
        <Stack
            direction={'row'}
            gap={'20px'}
        >
            {
                (selectedVendor !== null && selectedProduct !== null) ?
                    <Stack
                        w={'100%'}
                    >
                        <Box
                            w={'fit-content'}
                            display={'flex'}
                            alignItems={'center'}
                            gap={'10px'}
                            justifyContent={'space-between'}
                            marginBottom={'35px'}
                        >
                            <Typography.Text style={{ fontWeight: '700', fontSize: '14px' }}>Vendor</Typography.Text>
                            <Select
                                w={'290px'}
                                onChange={(e) => setSelectedVendor(e)}
                            >
                                <option value='amazon'>Amazon</option>
                                <option value='amozee'>Amozee</option>
                                <option value='ammei'>Ammei</option>
                            </Select>
                            <Typography.Text style={{ fontWeight: '700', fontSize: '14px' }}>Product</Typography.Text>
                            <Select
                                w={'290px'}
                                onChange={(e) => setSelectedVendor(e)}
                            >
                                {
                                    productsList.map((v, i) => <option key={i} value={v}>{v}</option>)
                                }
                            </Select>
                        </Box>
                        <Box
                            mt={'35px'}
                        >
                            <Heading
                                border={'1px solid #E8EDFC'}
                                textAlign={'center'}
                                fontSize={'22px'}
                                fontWeight={'600'}
                                color={'#262626'}
                                padding={'20px 0'}
                            >
                                CVEs</Heading>
                        </Box>
                        <Table>
                            <Thead>
                                <Tr
                                    bgColor={'#4A4A4A'}
                                    color={'#fff'}
                                >
                                    <Td w={'33%'}>Name</Td>
                                    <Td w={'33%'}>Description</Td>
                                    <Td w={'33%'}>Impact Details | CWE</Td>
                                </Tr>
                            </Thead>
                            <Tbody>
                                <Tr>
                                    <Td></Td>
                                    <Td></Td>
                                    <Td></Td>
                                </Tr>
                                <Tr>
                                    <Td></Td>
                                    <Td></Td>
                                    <Td></Td>
                                </Tr>
                                <Tr>
                                    <Td></Td>
                                    <Td></Td>
                                    <Td></Td>
                                </Tr>
                            </Tbody>
                        </Table>
                    </Stack>
                    :
                    <>
                        <Stack
                            w={'40%'}
                        >
                            <Box
                                display={'flex'}
                                alignItems={'center'}
                                gap={'10px'}
                                justifyContent={'space-between'}
                                marginBottom={'35px'}
                            >
                                <Typography.Text style={{ fontWeight: '700', fontSize: '14px' }}>Select Vendor</Typography.Text>
                                <Select
                                    w={'290px'}
                                    onChange={(e) => setSelectedVendor(e)}
                                >
                                    <option value='amazon'>Amazon</option>
                                    <option value='amozee'>Amozee</option>
                                    <option value='ammei'>Ammei</option>
                                </Select>
                                <Button
                                    bgColor={'#4A4A4A'}
                                    color={'#fff'}
                                    padding={'14px 5px'}
                                    fontSize={'16px'}
                                    fontWeight={'400'}
                                    border={'2px solid #4A4A4A'}
                                    _hover={{
                                        bgColor: 'transparent',
                                        color: '#4A4A4A'
                                    }}
                                >Download Products</Button>
                            </Box>
                            <Box
                                display={'flex'}
                                alignItems={'center'}
                                gap={'10px'}
                            >
                                <Input
                                    size="large"
                                    placeholder=""
                                    style={{ width: '58%' }}
                                />
                                <Button
                                    bgColor={'#4A4A4A'}
                                    color={'#fff'}
                                    padding={'16px 5px'}
                                    fontSize={'16px'}
                                    fontWeight={'500'}
                                    border={'2px solid #4A4A4A'}
                                    _hover={{
                                        bgColor: 'transparent',
                                        color: '#4A4A4A'
                                    }}
                                >Upload and Register Products</Button>
                            </Box>
                        </Stack>
                        <Stack
                            w={'50%'}
                        >
                            <Heading fontSize={'22px'} color={'#262626'} fontWeight={'600'} margin={'0 0 25px 0'}>Registered Products</Heading>
                            {
                                productsList.map((v, i) =>
                                    <Button
                                        onClick={() => setSelectedProduct(v)}
                                        key={i}
                                        bgColor={'transparent'}
                                        color={'#8A959E'}
                                        padding={'20px 30px'}
                                        w={'full'}
                                        _hover={{ bgColor: 'transparent' }}
                                        _focusVisible={{ bgColor: 'transparent' }}
                                        border={'1px solid #adadad'}
                                        borderRadius={6}
                                    >
                                        {v}
                                    </Button>)
                            }
                        </Stack>
                    </>
            }

        </Stack>
    )
}
